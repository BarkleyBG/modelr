<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate <code>n</code> permutation replicates. — permute • modelr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">modelr</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/hadley/modelr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate <code>n</code> permutation replicates.</h1>
    <small class="dont-index">Source: <a href='https://github.com/hadley/modelr/blob/master/R/permute.R'><code>R/permute.R</code></a></small>
    <div class="hidden name"><code>permute.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A permutation test involves permuting one or more variables in a data set
before performing the test, in order to break any existing relationships
and simulate the null hypothesis. One can then compare the true statistic
to the generated distribution of null statistics.</p>
    
    </div>

    <pre class="usage"><span class='fu'>permute</span>(<span class='no'>data</span>, <span class='no'>n</span>, <span class='no'>...</span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='st'>".id"</span>)

<span class='fu'>permute_</span>(<span class='no'>data</span>, <span class='no'>n</span>, <span class='no'>columns</span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='st'>".id"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Number of permutations to generate.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Columns to permute. This supports bare column names or dplyr
<a href='http://dplyr.tidyverse.org/reference/select_helpers.html'>dplyr::select_helpers</a></p></td>
    </tr>
    <tr>
      <th>.id</th>
      <td><p>Name of variable that gives each model a unique integer id.</p></td>
    </tr>
    <tr>
      <th>columns</th>
      <td><p>In <code>permute_</code>, vector of column names to permute.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with <code>n</code> rows and one column: <code>perm</code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>purrr</span>)
<span class='no'>perms</span> <span class='kw'>&lt;-</span> <span class='fu'>permute</span>(<span class='no'>mtcars</span>,  <span class='fl'>1000</span>, <span class='no'>mpg</span>)

<span class='no'>models</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/purrr/topics/map'>map</a></span>(<span class='no'>perms</span>$<span class='no'>perm</span>, ~ <span class='fu'>lm</span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>.</span>))
<span class='no'>glanced</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/purrr/topics/map'>map_df</a></span>(<span class='no'>models</span>, <span class='kw pkg'>broom</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/broom/topics/glance'>glance</a></span>, <span class='kw'>.id</span> <span class='kw'>=</span> <span class='st'>"id"</span>)

<span class='co'># distribution of null permutation statistics</span>
<span class='fu'>hist</span>(<span class='no'>glanced</span>$<span class='no'>statistic</span>)</div><div class='img'><img src='permute-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># confirm these are roughly uniform p-values</span>
<span class='fu'>hist</span>(<span class='no'>glanced</span>$<span class='no'>p.value</span>)</div><div class='img'><img src='permute-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># test against the unpermuted model to get a permutation p-value</span>
<span class='no'>mod</span> <span class='kw'>&lt;-</span> <span class='fu'>lm</span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='no'>mtcars</span>)
<span class='fu'>mean</span>(<span class='no'>glanced</span>$<span class='no'>statistic</span> <span class='kw'>&gt;</span> <span class='kw pkg'>broom</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/broom/topics/glance'>glance</a></span>(<span class='no'>mod</span>)$<span class='no'>statistic</span>)</div><div class='output co'>#&gt; [1] 0</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>modelr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
  <p>Site built by <a href="http://pkgdown.r-lib.org">pkgdown</a>.</p>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
      </footer>
   </div>

  

  </body>
</html>

